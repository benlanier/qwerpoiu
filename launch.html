<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>qwerpoiu</title>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="Core_min.js"></script>
  <script type="text/javascript" src="F2Player_min.js"></script>
  <script type="text/javascript" src="Soundblaster_min.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
    
      var player;
  
  getServerFileToArrayBuffer("bg.xm", function(e) {
    player = window.neoart["createF2Player"]();
    player.load(e);
    player.play();
  });
    
    // from http://blogs.msdn.com/b/ie/archive/2011/12/01/working-with-binary-data-using-typed-arrays.aspx
function getServerFileToArrayBuffer(url, successCallback) {
  // Create an XHR object
  var xhr = new XMLHttpRequest();
 
  xhr.onreadystatechange = function () {
    if (xhr.readyState == xhr.DONE) {
      if (xhr.status == 200 && xhr.response) {
        // The 'response' property returns an ArrayBuffer
        successCallback(xhr.response);
      } else {
        alert("Failed to download:" + xhr.status + " " + xhr.statusText);
      }
    }
  }
 
  // Open the request for the provided url
  xhr.open("GET", url, true);
 
  // Set the responseType to 'arraybuffer' for ArrayBuffer response
  xhr.responseType = "arraybuffer";
 
  xhr.send();
}

document.addEventListener("flodStop", function() {player.play();});

});
  </script>
</head>
<body style="padding: 0; margin: 0;">
		<div id="haxe:trace" style="position: absolute; z-index: 2147483647; display: none;"></div>
        <div id="haxe:jeash" style="background-color: #000000; width: 100%; height: 100%" data-framerate="30"></div>
		<script type="text/javascript" src="./Horse.js"></script>
</body>
</html>